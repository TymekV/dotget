{"$schema":"https://json-schema.org/draft/2020-12/schema","title":"Config","type":"object","properties":{"conditions":{"type":"object","additionalProperties":{"$ref":"#/$defs/Condition"}},"groups":{"type":"array","items":{"$ref":"#/$defs/Group"}}},"required":["conditions","groups"],"$defs":{"Condition":{"description":"Execution condition used to determine whether something\napplies to the current system.\n\nAll fields are optional.\nIf a field is left empty, it does not restrict matching.","type":"object","properties":{"architecture":{"description":"Processor architecture constraints.\nWorks like a logical OR.","type":["array","null"],"items":{"type":"string"}},"hostname_pattern":{"description":"Hostname glob pattern constraint.\n\nMatching uses standard glob semantics:\n- `*` matches any sequence of characters (including empty)\n- `?` matches exactly one character\n- `[abc]` matches any character in the set\n- `[a-z]` matches any character in the range\n\nExamples:\n- `\"laptop-*\"` matches any hostname starting with \"laptop-\"\n- `\"*.local\"` matches any hostname ending with \".local\"\n- `\"build-??\"` matches hostnames like \"build-01\", \"build-AB\"","type":["string","null"]},"os":{"description":"Operating system constraints.\nWorks like a logical OR.","type":"array","items":{"$ref":"#/$defs/OsType"}}},"required":["os"]},"Group":{"type":"object","properties":{"conditions":{"type":"array","items":{"type":"string"}},"packages":{"type":"object","properties":{"pacman":{"type":"array","items":{"type":"string"}}},"additionalProperties":false}},"required":["conditions","packages"]},"OsType":{"description":"Operating system type constraint.","oneOf":[{"type":"object","properties":{"kind":{"type":"string","const":"windows"}},"required":["kind"]},{"type":"object","properties":{"kind":{"type":"string","const":"macos"},"version":{"description":"Optional semantic version requirement for the macOS version.\n\nThis is evaluated against the system's macOS version\n(e.g. `13.5.1`).\n\nExamples:\n- `\">=13.0.0\"` — macOS Ventura or newer\n- `\"^14.0.0\"` — any macOS 14 release\n- `\"<12.0.0\"` — older than macOS Monterey","type":["string","null"]}},"required":["kind"]},{"type":"object","properties":{"distro":{"description":"Distribution identifiers matched against the `ID` field in `/etc/os-release`.\n\nExamples:\n- `\"arch\"`\n- `\"ubuntu\"`\n- `\"fedora\"`\n\nIf multiple values are provided, they are treated as a logical OR.","type":["array","null"],"items":{"type":"string"}},"distro_like":{"description":"Distribution family identifiers matched against the\n`ID_LIKE` field in `/etc/os-release`.\n\nThis allows matching broader distribution families, e.g.:\n- `\"debian\"` (matches Ubuntu, Linux Mint, etc.)\n- `\"rhel\"` (matches Fedora, Rocky, AlmaLinux, etc.)\n\nIf multiple values are provided, they are treated as a logical OR.","type":["array","null"],"items":{"type":"string"}},"kind":{"type":"string","const":"linux"}},"required":["kind"]}]}}}